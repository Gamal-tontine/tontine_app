{% extends "admin_tontine/base.html" %}

{% block content %}
<div class="wrapper">
  {% include "admin_tontine/seidebar.html" %}
  <div class="main-panel">
      {% include "admin_tontine/navbar.html" %}

      <div class="container mx-3">
        <div class="row">
          <div class="col-md">
            <div class="card">
              <div class="card-header row">
                <div class="col">

                  <div class="page-header">
                    <h3 class="fw-bold mb-3">Historique de paiement et acquitement</h3>
                    <ul class="breadcrumbs mb-3">
                      <li class="nav-home">
                        <a {% if request.user.statue == 'admin' %} href=" {% url 'admin_tontine:dashboard' %}" {% else %} href=" {% url 'user_tontine:user_dashboard' %}" {% endif %} >
                          <i class="icon-home"></i>
                        </a>
                      </li>
                      <li class="separator">
                        <i class="icon-arrow-right"></i>
                      </li>
                      <li class="nav-item">
                        <a href="{% if request.user.statue == 'admin' %}{% url 'tontine:detail_tontine' tontine.uid %}{% else %}{% url 'user_tontine:tontine_collective' tontine.uid %}{% endif %}">Tontine</a>
                      </li>
                      <li class="separator">
                        <i class="icon-arrow-right"></i>
                      </li>
                      <li class="nav-item">
                        <a href="#">Historique</a>
                      </li>
                    </ul>
                  </div>


                </div>
              </div>




              <div class="card-body">
                <div class="table-responsive">
                  <!-- Table pour les paiements -->
                  <h5>Paiements effectués</h5>
                  <table id="payement-table" class="table table-striped table-hover">
                    <thead>
                      <tr>
                        <th>Date</th>
                        <th>Montant</th>
                        <th>Status</th>
                      </tr>
                    </thead>
                    <tbody>
                      {% for paiement in payement %}
                        <tr>
                          <td>{{ paiement.date }}</td>
                          <td>{{ paiement.amount }}</td>
                          <td>{{ paiement.status }}</td>
                        </tr>
                      {% empty %}
                        <tr>
                          <td colspan="3" class="text-center">Pas encore ete payer pour cette tontine</td>
                        </tr>
                      {% endfor %}
                    </tbody>
                  </table>

                  <hr>

                  <!-- Table pour les acquitements -->
                  <h5>Acquitements</h5>
                  <table id="acquitement-table" class="table table-striped table-hover">
                    <thead>
                      <tr>
                        <th>Date</th>
                        <th>Montant</th>
                        <th>Status</th>
                      </tr>
                    </thead>
                    <tbody>
                      {% for acquit in acquitement %}
                        <tr>
                          <td>{{ acquit.date }}</td>
                          <td>{{ acquit.amount }}</td>
                          <td><i class="fa fa-check-circle me-2 text-success"></i></td>
                        </tr>
                      {% empty %}
                        <tr>
                          <td colspan="3" class="text-center">Aucun acquitement trouvé</td>
                        </tr>
                      {% endfor %}
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

  </div>
</div>

{% endblock %}
